<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>De Pottenbak-Quest üè∫</title>
  <style>
    :root{
      --bg:#0b0f14; --card:#111826; --text:#e7eefc; --muted:#a7b3c8;
      --accent:#7dd3fc; --good:#34d399; --bad:#fb7185; --line:#243047;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      background:radial-gradient(1200px 600px at 20% 10%, #13203a, var(--bg));
      color:var(--text); min-height:100vh; display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .wrap{width:min(860px, 100%);}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid var(--line);
      border-radius:18px; padding:22px; box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }
    header{display:flex; gap:16px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;}
    h1{margin:0; font-size:1.4rem; letter-spacing:.2px}
    .sub{margin:6px 0 0; color:var(--muted); line-height:1.4}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line); background:rgba(255,255,255,0.03);
      padding:8px 12px; border-radius:999px; color:var(--muted); font-size:.9rem;
    }
    .bar{
      height:10px; background:rgba(255,255,255,0.05); border:1px solid var(--line);
      border-radius:999px; overflow:hidden; margin:18px 0 6px;
    }
    .bar > div{height:100%; width:0%; background:linear-gradient(90deg, var(--accent), #a78bfa); transition:width .25s ease;}
    .stepTitle{margin:18px 0 6px; font-size:1.1rem}
    .riddle{
      margin:0; color:var(--text); line-height:1.6;
      padding:14px 14px; border-radius:14px; border:1px dashed rgba(125,211,252,0.35);
      background:rgba(125,211,252,0.06);
      white-space:pre-wrap;
    }
    .row{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap;}
    input{
      flex:1; min-width:220px;
      padding:12px 12px; border-radius:12px; border:1px solid var(--line);
      background:rgba(255,255,255,0.03); color:var(--text); outline:none;
    }
    input:focus{border-color:rgba(125,211,252,0.6); box-shadow:0 0 0 4px rgba(125,211,252,0.12)}
    button{
      padding:12px 14px; border-radius:12px; border:1px solid var(--line);
      background:rgba(255,255,255,0.05); color:var(--text); cursor:pointer;
      transition:transform .05s ease, background .2s ease;
    }
    button:hover{background:rgba(255,255,255,0.08)}
    button:active{transform:translateY(1px)}
    .msg{margin:10px 0 0; min-height:24px; color:var(--muted)}
    .msg.good{color:var(--good)}
    .msg.bad{color:var(--bad)}
    .footer{
      margin-top:18px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap;
      color:var(--muted); font-size:.9rem;
    }
    .tiny{opacity:.85}
    .hidden{display:none}

    /* tiny confetti */
    .confetti { position: fixed; inset: 0; pointer-events:none; overflow:hidden; }
    .confetti i{
      position:absolute; top:-12px; width:8px; height:12px; border-radius:2px;
      opacity:.9; transform:translateX(0) rotate(0deg);
      animation: fall 900ms ease-out forwards;
    }
    @keyframes fall{
      to { top: 110vh; transform: translateX(var(--dx)) rotate(var(--rot)); opacity:0.95; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div>
          <h1>De Pottenbak-Quest üè∫</h1>
          <p class="sub">10 raadsels. 1 bestemming. En jij bent de hoofdrolspeler. üëÄ</p>
        </div>
        <div class="pill"><span id="counter">Stap 1/10</span> ‚Ä¢ <span id="status">Locked & loaded</span></div>
      </header>

      <div class="bar" aria-label="Voortgang">
        <div id="progress"></div>
      </div>
      <div class="tiny" id="hintline">Tip: hoofdletters/spaties maken niet uit.</div>

      <h2 class="stepTitle" id="stepTitle"></h2>
      <p class="riddle" id="riddle"></p>

      <div class="row" id="inputRow">
        <input id="answer" type="text" placeholder="Typ je antwoord‚Ä¶" autocomplete="off" />
        <button id="check">Check</button>
        <button id="skip" title="Handig om te testen (niet gebruiken bij cadeau)">Test-skip</button>
      </div>

      <p class="msg" id="msg"></p>

      <div class="footer">
        <div>üß© <span id="mood">Mystery-mode</span></div>
        <div class="tiny">PS: als je probeert te cheaten‚Ä¶ ik zie het. (nee ok√©, niet echt) üòÑ</div>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

<script>
/**
 * ‚úÖ Pas hier enkel je 10 raadsels + antwoorden aan.
 * - answer: het verwachte antwoord (kleine letters aangeraden)
 * - Je kan meerdere geldige antwoorden meegeven via: answers: ["a", "b"]
 */
const STEPS = [
  {
    title: "Stap 1 ‚Äî De start",
    riddle: "Ik ben warm, maar geen zon.\nIk draai rond, maar ben geen planeet.\nIk maak van klei een droom.\nWat ben ik?",
    answers: ["draaischijf", "pottenbakkersschijf"]
  },
  {
    title: "Stap 2 ‚Äî Het materiaal",
    riddle: "Ik ben zacht als ik nat ben,\nhard als ik gebakken word.\nIk ben geen koek.\nWat ben ik?",
    answers: ["klei"]
  },
  {
    title: "Stap 3 ‚Äî De tool",
    riddle: "Ik snij zonder mes,\nik meet zonder lint,\nik help je recht.\nWie ben ik? (1 woord)",
    answers: ["rib", "ribje", "ribtool"]
  },
  {
    title: "Stap 4 ‚Äî Water",
    riddle: "Te veel van mij en alles zakt.\nTe weinig van mij en alles scheurt.\nIk ben de stress van de pottenbakker.\nWat ben ik?",
    answers: ["water"]
  },
  {
    title: "Stap 5 ‚Äî Het proces",
    riddle: "Eerst ben ik leer,\ndan ben ik bot.\nIk klink dof, dan scherp.\nWelke fase bedoel ik? (2 woorden)",
    answers: ["leerhard", "leer hard", "leer-harde"]
  },
  {
    title: "Stap 6 ‚Äî De oven",
    riddle: "Ik ben een kamer die heter is dan je ex.\nIk maak alles definitief.\nWaar ga ik over?",
    answers: ["oven", "keramiekoven", "pottenbakkersoven"]
  },
  {
    title: "Stap 7 ‚Äî Het glanslaagje",
    riddle: "Ik ben vloeibaar, maar eindig als glas.\nIk kan mat of blinkend zijn.\nWat ben ik?",
    answers: ["glazuur", "glazuren"]
  },
  {
    title: "Stap 8 ‚Äî Kleur",
    riddle: "Ik zit soms onder het glazuur,\nvaak op natte klei,\nen ik kleur jouw verhaal.\nWat ben ik?",
    answers: ["engobe", "slip"]
  },
  {
    title: "Stap 9 ‚Äî De hint",
    riddle: "Waar klei mensen blij maakt,\nwaar handen vies mogen worden,\nwaar draaien een hobby is.\nWat zoek je? (1 woord)",
    answers: ["atelier", "studio", "workshop"]
  },
  {
    title: "Stap 10 ‚Äî Finale",
    riddle: "Vul dit in om je cadeau te ontgrendelen:\n\n'Ik ga met jou ________.'",
    answers: ["pottenbakken", "keramieken", "draaien"]
  }
];

// ------------------ engine ------------------
const $ = (id) => document.getElementById(id);
const state = {
  step: Number(localStorage.getItem("pbq_step") || "0"),
};

function normalize(s){
  return (s || "")
    .toString()
    .trim()
    .toLowerCase()
    .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // remove accents
    .replace(/\s+/g, " "); // collapse spaces
}

function setMsg(text, type=""){
  const el = $("msg");
  el.textContent = text;
  el.className = "msg " + type;
}

function confettiBurst(){
  const host = $("confetti");
  host.innerHTML = "";
  const pieces = 24;
  for(let i=0;i<pieces;i++){
    const p = document.createElement("i");
    const left = Math.random()*100;
    const dx = (Math.random()*2-1) * 180 + "px";
    const rot = (Math.random()*720 - 360) + "deg";
    const hue = Math.floor(Math.random()*360);
    p.style.left = left + "vw";
    p.style.setProperty("--dx", dx);
    p.style.setProperty("--rot", rot);
    p.style.background = `hsl(${hue} 90% 65%)`;
    host.appendChild(p);
  }
  setTimeout(()=> host.innerHTML="", 1100);
}

function render(){
  const total = STEPS.length;
  const i = Math.min(state.step, total-1);
  const stepObj = STEPS[i];

  $("counter").textContent = `Stap ${i+1}/${total}`;
  $("progress").style.width = `${(i)/(total-1)*100}%`;

  $("stepTitle").textContent = stepObj.title;
  $("riddle").textContent = stepObj.riddle;

  $("answer").value = "";
  $("answer").focus();

  if(state.step >= total){
    // not expected (we cap), but just in case
    finish();
  } else {
    $("status").textContent = "Solve it üòà";
    setMsg("");
  }

  // hide skip if you want:
  // $("skip").classList.add("hidden");
}

function checkAnswer(){
  const total = STEPS.length;
  const i = Math.min(state.step, total-1);
  const stepObj = STEPS[i];

  const given = normalize($("answer").value);
  const ok = (stepObj.answers || []).map(normalize).includes(given);

  if(!given){
    setMsg("Typ iets in h√© üòÑ", "bad");
    return;
  }

  if(ok){
    setMsg("Correct! üîì", "good");
    confettiBurst();
    state.step++;

    if(state.step >= total){
      // completed all 10
      localStorage.setItem("pbq_step", String(total-1)); // keep on finale screen
      finish();
      return;
    }

    localStorage.setItem("pbq_step", String(state.step));
    setTimeout(render, 450);
  } else {
    setMsg("Nope‚Ä¶ probeer nog eens. (Tip: denk simpel) üòâ", "bad");
  }
}

function finish(){
  $("status").textContent = "Unlocked üèÅ";
  $("progress").style.width = `100%`;
  $("stepTitle").textContent = "Cadeau ontgrendeld üéÅ";
  $("riddle").textContent =
`Yes! Je hebt het gehaald.

Je cadeau: we gaan samen POTTEBAKKEN üè∫‚ú®

üìç Locatie-hint:
(zet hier je echte locatie / datum / afspraak-link / QR-code tekst)

Voorbeeld:
"Zaterdag 13 januari om 14:00 ‚Äî Atelier [NAAM] ‚Äî [ADRES]"
`;

  $("inputRow").classList.add("hidden");
  setMsg("Stuur mij nu een screenshot van je overwinning. Grapje. Of toch niet. üòÑ", "good");
}

// events
$("check").addEventListener("click", checkAnswer);
$("answer").addEventListener("keydown", (e)=>{
  if(e.key === "Enter") checkAnswer();
});
$("skip").addEventListener("click", ()=>{
  state.step = Math.min(state.step + 1, STEPS.length-1);
  localStorage.setItem("pbq_step", String(state.step));
  render();
});

// init
render();
</script>
</body>
</html>
